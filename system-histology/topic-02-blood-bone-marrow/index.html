<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>System Histology – Blood & Bone Marrow Quiz</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    body {
      background: #f3f4f6;
      color: #111827;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      padding: 16px;
    }

    .quiz-wrapper {
      background: #ffffff;
      width: 100%;
      max-width: 900px;
      border-radius: 16px;
      box-shadow: 0 10px 25px rgba(15, 23, 42, 0.15);
      overflow: hidden;
      display: flex;
      flex-direction: column;
    }

    .quiz-header {
      background: #1d4ed8;
      color: #ffffff;
      padding: 16px 20px;
    }

    .header-inner {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 6px;
      flex-wrap: wrap;
    }

    .quiz-logo {
      height: 44px;
      width: auto;
      border-radius: 8px;
      background: #ffffff;
      padding: 4px 8px;
    }

    .quiz-header-texts {
      display: flex;
      flex-direction: column;
      gap: 2px;
      min-width: 0;
    }

    .quiz-header-title {
      font-size: 1.2rem;
      font-weight: 700;
    }

    .quiz-header-subtitle {
      font-size: 0.9rem;
      opacity: 0.95;
    }

    .quiz-meta {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 4px;
      font-size: 0.8rem;
      opacity: 0.9;
    }

    .quiz-meta span {
      background: rgba(15, 23, 42, 0.12);
      padding: 4px 8px;
      border-radius: 999px;
    }

    .quiz-body {
      padding: 16px 20px 20px;
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    .top-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 8px;
      flex-wrap: wrap;
    }

    .progress {
      font-size: 0.85rem;
      font-weight: 600;
      color: #374151;
    }

    .timer {
      font-size: 0.9rem;
      font-weight: 700;
      padding: 6px 10px;
      border-radius: 999px;
      background: #fee2e2;
      color: #b91c1c;
    }

    .progress-bar-track {
      width: 100%;
      height: 8px;
      border-radius: 999px;
      background: #e5e7eb;
      overflow: hidden;
      margin-top: 4px;
    }

    .progress-bar-fill {
      height: 100%;
      width: 0%;
      background: #1d4ed8;
      transition: width 0.3s ease;
    }

    .question-card {
      background: #eff6ff;
      border-radius: 12px;
      padding: 14px 14px 16px;
      border: 1px solid #dbeafe;
    }

    .question-text {
      font-size: 0.98rem;
      font-weight: 600;
      color: #1f2937;
      margin-bottom: 8px;
    }

    .question-subtitle {
      font-size: 0.85rem;
      color: #e5e7eb;
      margin-bottom: 4px;
      opacity: 0.92;
    }

    .options-list {
      list-style: none;
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin-top: 10px;
    }

    .option-btn {
      width: 100%;
      text-align: left;
      padding: 10px 12px;
      border-radius: 999px;
      border: 1px solid #e5e7eb;
      background: #ffffff;
      font-size: 0.9rem;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 8px;
      transition: background 0.15s ease, box-shadow 0.15s ease, border-color 0.15s ease;
    }

    .option-key {
      font-weight: 700;
      font-size: 0.85rem;
      width: 18px;
      text-align: center;
      color: #4b5563;
    }

    .option-text {
      flex: 1;
      color: #111827;
    }

    .option-btn:hover {
      background: #f9fafb;
      box-shadow: 0 2px 6px rgba(15, 23, 42, 0.06);
    }

    .option-btn.selected {
      border-color: #1d4ed8;
      background: #eff6ff;
      box-shadow: 0 0 0 1px rgba(37, 99, 235, 0.4);
    }

    .nav-buttons {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 12px;
      gap: 8px;
      flex-wrap: wrap;
    }

    .btn {
      border: none;
      border-radius: 999px;
      padding: 8px 16px;
      font-size: 0.9rem;
      cursor: pointer;
      font-weight: 600;
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .btn-primary {
      background: #1d4ed8;
      color: #ffffff;
    }

    .btn-primary:hover {
      background: #1e40af;
    }

    .btn-secondary {
      background: #e5e7eb;
      color: #111827;
    }

    .btn-secondary:hover {
      background: #d1d5db;
    }

    .btn-ghost {
      background: transparent;
      color: #6b7280;
    }

    .btn-ghost:hover {
      background: #f3f4f6;
    }

    .summary-card {
      background: #ecfdf5;
      border-radius: 12px;
      padding: 14px 14px 16px;
      border: 1px solid #bbf7d0;
      margin-top: 4px;
    }

    .summary-title {
      font-size: 1rem;
      font-weight: 700;
      color: #065f46;
      margin-bottom: 6px;
    }

    .summary-text {
      font-size: 0.9rem;
      color: #064e3b;
      margin-bottom: 4px;
    }

    .score-highlight {
      font-size: 1.25rem;
      font-weight: 800;
      color: #15803d;
    }

    .upsell-card {
      margin-top: 12px;
      padding: 14px;
      border-radius: 12px;
      border: 1px dashed #1d4ed8;
      background: #eff6ff;
    }

    .upsell-title {
      font-size: 1rem;
      font-weight: 700;
      color: #1d4ed8;
      margin-bottom: 6px;
    }

    .upsell-list {
      font-size: 0.9rem;
      color: #1f2937;
      margin-left: 16px;
      margin-bottom: 10px;
    }

    .upsell-list li {
      margin-bottom: 2px;
    }

    .upsell-btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 8px 16px;
      border-radius: 999px;
      background: #1d4ed8;
      color: #ffffff;
      font-size: 0.9rem;
      font-weight: 600;
      text-decoration: none;
    }

    .upsell-btn:hover {
      background: #1e40af;
    }

    .footer-note {
      margin-top: 10px;
      font-size: 0.75rem;
      color: #9ca3af;
      text-align: center;
    }

    @media (max-width: 640px) {
      .header-inner {
        flex-direction: row;
        align-items: center;
      }
      .quiz-logo {
        height: 38px;
      }
      .quiz-header-title {
        font-size: 1.05rem;
      }
    }
  </style>
</head>
<body>
  <div class="quiz-wrapper">
    <header class="quiz-header">
      <div class="header-inner">
        <img
          src="http://easy-learns.com/wp-content/uploads/2025/12/logo-site-header.png"
          alt="EasyLearn Academy Logo"
          class="quiz-logo"
        />
        <div class="quiz-header-texts">
          <div class="quiz-header-title">System Histology – Blood & Bone Marrow Quiz</div>
          <div class="quiz-header-subtitle">
            Hematopoietic & Lymphoid System I &middot; Free Topic-Based Quiz (No Explanations)
          </div>
        </div>
      </div>
      <div class="quiz-meta">
        <span>Course: System Histology</span>
        <span>Topic: Blood &amp; Bone Marrow</span>
        <span id="question-count-badge"></span>
        <span>Time: 1.5 minutes/question</span>
      </div>
    </header>

    <main class="quiz-body">
      <div class="top-bar">
        <div class="progress">
          Question <span id="current-question">1</span> of
          <span id="total-questions">0</span>
        </div>
        <div class="timer" id="timer">Time: --:--</div>
      </div>
      <div class="progress-bar-track">
        <div class="progress-bar-fill" id="progress-bar"></div>
      </div>

      <section id="question-section">
        <div class="question-card">
          <div class="question-subtitle" id="question-subtitle"></div>
          <div class="question-text" id="question-text"></div>
          <ul class="options-list" id="options-list">
            <!-- options go here -->
          </ul>
        </div>

        <div class="nav-buttons">
          <button class="btn btn-secondary" id="prev-btn">← Previous</button>
          <div style="display:flex; gap:8px; margin-left:auto;">
            <button class="btn btn-ghost" id="restart-btn">Restart</button>
            <button class="btn btn-primary" id="next-btn">Next →</button>
          </div>
        </div>
      </section>

      <section id="summary-section" style="display:none;">
        <div class="summary-card">
          <div class="summary-title">Quiz Completed</div>
          <p class="summary-text">
            Your score:
            <span class="score-highlight" id="score-text"></span>
          </p>
          <p class="summary-text" id="details-text"></p>
        </div>

        <div class="upsell-card">
          <div class="upsell-title">Want full explanations and real exam practice?</div>
          <ul class="upsell-list">
            <li>Final-style exam covering all 15 System Histology topics</li>
            <li>Clinical scenarios and case-based questions</li>
            <li>Full explanations for every question</li>
            <li>Mixed-topic format similar to real final exams</li>
          </ul>
          <a
            class="upsell-btn"
            href="https://easy-learns.com/system-histology-final-style-exam/"
            target="_blank"
            rel="noopener noreferrer"
          >
            Unlock Final-Style Exam (paid)
          </a>
        </div>

        <div class="nav-buttons">
          <button class="btn btn-secondary" id="review-btn">Review Questions</button>
          <button class="btn btn-primary" id="retake-btn">Retake Quiz</button>
        </div>

        <div class="footer-note">
          EasyLearn &middot; System Histology &middot; Blood &amp; Bone Marrow Quiz
        </div>
      </section>
    </main>
  </div>

  <script>
    // ==========================
    // QUESTION BANK – Blood & Bone Marrow
    // ==========================

    const questions = [
      {
        q: "Which of the following best describes a normal erythrocyte in a peripheral blood smear?",
        subtitle: "Basic blood cell morphology",
        options: [
          "Large cell with a kidney-shaped nucleus",
          "Biconcave disc without a nucleus",
          "Small cell with dense, round nucleus and scant cytoplasm",
          "Oval cell with abundant basophilic cytoplasm"
        ],
        answer: "Biconcave disc without a nucleus"
      },
      {
        q: "Which component of blood is responsible for transporting oxygen to tissues?",
        subtitle: "Function of formed elements",
        options: [
          "Neutrophils",
          "Platelets",
          "Erythrocytes",
          "Lymphocytes"
        ],
        answer: "Erythrocytes"
      },
      {
        q: "In a routine stain, which leukocyte type has a multilobed nucleus and pale cytoplasm with fine specific granules?",
        subtitle: "Granulocyte identification",
        options: [
          "Neutrophil",
          "Eosinophil",
          "Basophil",
          "Monocyte"
        ],
        answer: "Neutrophil"
      },
      {
        q: "Which leukocyte is characterized by a bilobed nucleus and large, eosinophilic granules in the cytoplasm?",
        subtitle: "Eosinophil morphology",
        options: [
          "Neutrophil",
          "Eosinophil",
          "Basophil",
          "Lymphocyte"
        ],
        answer: "Eosinophil"
      },
      {
        q: "Which leukocyte has large, basophilic granules that often obscure the nucleus in a peripheral smear?",
        subtitle: "Basophil morphology",
        options: [
          "Basophil",
          "Monocyte",
          "Neutrophil",
          "Large lymphocyte"
        ],
        answer: "Basophil"
      },
      {
        q: "Which cell type in peripheral blood is the largest and has a kidney-shaped nucleus with grayish cytoplasm?",
        subtitle: "Monocyte identification",
        options: [
          "Lymphocyte",
          "Neutrophil",
          "Monocyte",
          "Platelet"
        ],
        answer: "Monocyte"
      },
      {
        q: "Platelets are best described as:",
        subtitle: "Platelet nature",
        options: [
          "Fragments of megakaryocyte cytoplasm without a nucleus",
          "Small nucleated cells derived from lymphoid stem cells",
          "Immature erythrocytes with residual ribosomes",
          "Fragments of neutrophil cytoplasm with multiple nuclei"
        ],
        answer: "Fragments of megakaryocyte cytoplasm without a nucleus"
      },
      {
        q: "A 25-year-old woman presents with anemia. In her bone marrow, which precursor cell gives rise directly to mature erythrocytes?",
        subtitle: "Erythroid lineage",
        options: [
          "Myeloblast",
          "Megakaryoblast",
          "Normoblast (orthochromatic erythroblast)",
          "Monoblast"
        ],
        answer: "Normoblast (orthochromatic erythroblast)"
      },
      {
        q: "Which sequence correctly represents the maturation of erythrocytes in the bone marrow?",
        subtitle: "Erythropoiesis stages",
        options: [
          "Proerythroblast → Reticulocyte → Normoblast → Erythrocyte",
          "Reticulocyte → Proerythroblast → Normoblast → Erythrocyte",
          "Proerythroblast → Basophilic erythroblast → Polychromatophilic erythroblast → Normoblast → Reticulocyte → Erythrocyte",
          "Myeloblast → Promyelocyte → Reticulocyte → Erythrocyte"
        ],
        answer: "Proerythroblast → Basophilic erythroblast → Polychromatophilic erythroblast → Normoblast → Reticulocyte → Erythrocyte"
      },
      {
        q: "Reticulocytes in peripheral blood can be identified by which special staining characteristic?",
        subtitle: "Reticulocyte identification",
        options: [
          "Presence of azurophilic granules with Wright stain",
          "Filamentous network of ribosomal RNA with supravital stain",
          "Strong basophilic nucleus with H&E stain",
          "Large lysosomal granules with PAS stain"
        ],
        answer: "Filamentous network of ribosomal RNA with supravital stain"
      },
      {
        q: "Which of the following best describes the stroma of red bone marrow?",
        subtitle: "Bone marrow microenvironment",
        options: [
          "Loose connective tissue with reticular fibers and sinusoidal capillaries",
          "Dense regular connective tissue rich in collagen type I",
          "Pure adipose tissue with few blood vessels",
          "Hyaline cartilage with isogenous groups"
        ],
        answer: "Loose connective tissue with reticular fibers and sinusoidal capillaries"
      },
      {
        q: "Which cells in the bone marrow form a supporting network and secrete reticular fibers and growth factors for hematopoiesis?",
        subtitle: "Stromal support cells",
        options: [
          "Endothelial cells",
          "Reticular (stromal) cells",
          "Osteoclasts",
          "Chondrocytes"
        ],
        answer: "Reticular (stromal) cells"
      },
      {
        q: "Which structure in the bone marrow allows mature blood cells to pass from the hematopoietic cords into the circulation?",
        subtitle: "Bone marrow sinusoids",
        options: [
          "Lymphatic capillaries with valves",
          "Continuous capillaries with thick basal lamina",
          "Sinusoidal capillaries with discontinuous endothelium",
          "Tight junctions between megakaryocytes"
        ],
        answer: "Sinusoidal capillaries with discontinuous endothelium"
      },
      {
        q: "Megakaryocytes are typically located in which region of the bone marrow?",
        subtitle: "Megakaryocyte location",
        options: [
          "Within the cortical bone near osteocytes",
          "Close to sinusoidal capillaries at the periphery of hematopoietic cords",
          "Inside the central artery of the bone",
          "Within the periosteum"
        ],
        answer: "Close to sinusoidal capillaries at the periphery of hematopoietic cords"
      },
      {
        q: "A 7-year-old child is found to have markedly reduced hematopoietic cells in the bone marrow, replaced largely by fat. Which condition does this histology suggest?",
        subtitle: "Case: bone marrow failure",
        options: [
          "Aplastic anemia",
          "Acute leukemia",
          "Megaloblastic anemia",
          "Chronic inflammation"
        ],
        answer: "Aplastic anemia"
      },
      {
        q: "In acute leukemia, which histologic feature is most characteristic in the bone marrow?",
        subtitle: "Case: leukemia marrow appearance",
        options: [
          "Near-total replacement of hematopoietic tissue by adipocytes",
          "Marked increase in immature blast cells crowding out normal lineages",
          "Normal ratio of fat to hematopoietic cells",
          "Thick trabeculae of compact bone with no cellular elements"
        ],
        answer: "Marked increase in immature blast cells crowding out normal lineages"
      },
      {
        q: "A 50-year-old man with chronic blood loss develops iron deficiency anemia. Which change is most likely in his peripheral blood smear?",
        subtitle: "Case: iron deficiency anemia",
        options: [
          "Macrocytic, hyperchromic erythrocytes",
          "Microcytic, hypochromic erythrocytes",
          "Normocytic, normochromic erythrocytes only",
          "Sickle-shaped erythrocytes"
        ],
        answer: "Microcytic, hypochromic erythrocytes"
      },
      {
        q: "A blood smear from a patient with an acute bacterial infection is most likely to show an increased number of:",
        subtitle: "Case: response to bacterial infection",
        options: [
          "Eosinophils",
          "Basophils",
          "Neutrophils",
          "Small lymphocytes"
        ],
        answer: "Neutrophils"
      },
      {
        q: "A 10-year-old boy with severe allergic asthma has abundant cells in his blood that combat parasites and participate in allergic reactions. Which leukocyte is increased?",
        subtitle: "Case: allergy and parasitic infection",
        options: [
          "Neutrophils",
          "Eosinophils",
          "Basophils",
          "Monocytes"
        ],
        answer: "Eosinophils"
      },
      {
        q: "A 30-year-old woman has a viral infection. Which leukocyte type, with a large round nucleus and scant rim of cytoplasm, is typically increased in viral infections?",
        subtitle: "Case: viral infection pattern",
        options: [
          "Neutrophils",
          "Lymphocytes",
          "Monocytes",
          "Basophils"
        ],
        answer: "Lymphocytes"
      }
    ];

    // ==========================
    // QUIZ LOGIC
    // ==========================

    const totalQuestions = questions.length;
    const timePerQuestionSeconds = 90; // 1.5 minutes
    const totalTimeSeconds = totalQuestions * timePerQuestionSeconds;

    let currentQuestionIndex = 0;
    let userAnswers = new Array(totalQuestions).fill(null);
    let timerInterval = null;
    let remainingSeconds = totalTimeSeconds;
    let quizFinished = false;

    const currentQuestionSpan = document.getElementById("current-question");
    const totalQuestionsSpan = document.getElementById("total-questions");
    const timerSpan = document.getElementById("timer");
    const progressBar = document.getElementById("progress-bar");
    const questionText = document.getElementById("question-text");
    const questionSubtitle = document.getElementById("question-subtitle");
    const optionsList = document.getElementById("options-list");

    const questionSection = document.getElementById("question-section");
    const summarySection = document.getElementById("summary-section");
    const scoreText = document.getElementById("score-text");
    const detailsText = document.getElementById("details-text");
    const questionCountBadge = document.getElementById("question-count-badge");

    const prevBtn = document.getElementById("prev-btn");
    const nextBtn = document.getElementById("next-btn");
    const restartBtn = document.getElementById("restart-btn");
    const reviewBtn = document.getElementById("review-btn");
    const retakeBtn = document.getElementById("retake-btn");

    function formatTime(seconds) {
      const m = Math.floor(seconds / 60);
      const s = seconds % 60;
      return `${m.toString().padStart(2, "0")}:${s.toString().padStart(2, "0")}`;
    }

    function updateTimerDisplay() {
      timerSpan.textContent = `Time: ${formatTime(remainingSeconds)}`;
    }

    function startTimer() {
      if (timerInterval) clearInterval(timerInterval);
      updateTimerDisplay();
      timerInterval = setInterval(() => {
        if (remainingSeconds <= 0) {
          clearInterval(timerInterval);
          if (!quizFinished) {
            finishQuiz();
          }
          return;
        }
        remainingSeconds--;
        updateTimerDisplay();
      }, 1000);
    }

    function updateProgressBar() {
      const answeredCount = userAnswers.filter(a => a !== null).length;
      const progressPercent = (answeredCount / totalQuestions) * 100;
      progressBar.style.width = `${progressPercent}%`;
    }

    function renderQuestion() {
      const q = questions[currentQuestionIndex];
      currentQuestionSpan.textContent = currentQuestionIndex + 1;
      totalQuestionsSpan.textContent = totalQuestions;
      questionText.textContent = q.q;
      questionSubtitle.textContent = q.subtitle || "";

      optionsList.innerHTML = "";
      const keys = ["A", "B", "C", "D"];

      q.options.forEach((opt, index) => {
        const li = document.createElement("li");
        const btn = document.createElement("button");
        btn.className = "option-btn";
        btn.dataset.index = index;

        const keySpan = document.createElement("span");
        keySpan.className = "option-key";
        keySpan.textContent = keys[index] || "";

        const textSpan = document.createElement("span");
        textSpan.className = "option-text";
        textSpan.textContent = opt;

        btn.appendChild(keySpan);
        btn.appendChild(textSpan);

        if (userAnswers[currentQuestionIndex] === index) {
          btn.classList.add("selected");
        }

        btn.addEventListener("click", () => {
          selectOption(index);
        });

        li.appendChild(btn);
        optionsList.appendChild(li);
      });

      prevBtn.disabled = currentQuestionIndex === 0;
      nextBtn.textContent = currentQuestionIndex === totalQuestions - 1 ? "Submit Quiz" : "Next →";
      updateProgressBar();
    }

    function selectOption(index) {
      userAnswers[currentQuestionIndex] = index;

      const buttons = optionsList.querySelectorAll(".option-btn");
      buttons.forEach(btn => btn.classList.remove("selected"));
      const selected = Array.from(buttons).find(
        btn => Number(btn.dataset.index) === index
      );
      if (selected) {
        selected.classList.add("selected");
      }
      updateProgressBar();
    }

    function goToNext() {
      if (currentQuestionIndex === totalQuestions - 1) {
        finishQuiz();
      } else {
        currentQuestionIndex++;
        renderQuestion();
      }
    }

    function goToPrevious() {
      if (currentQuestionIndex > 0) {
        currentQuestionIndex--;
        renderQuestion();
      }
    }

    function finishQuiz() {
      quizFinished = true;
      clearInterval(timerInterval);

      let correctCount = 0;
      questions.forEach((q, i) => {
        const userIndex = userAnswers[i];
        if (userIndex !== null && q.options[userIndex] === q.answer) {
          correctCount++;
        }
      });

      const percent = Math.round((correctCount / totalQuestions) * 100);
      scoreText.textContent = `${correctCount} / ${totalQuestions} (${percent}%)`;

      const answeredCount = userAnswers.filter(a => a !== null).length;
      detailsText.textContent =
        `You answered ${answeredCount} of ${totalQuestions} questions. ` +
        `Review the quiz or retake it for more practice on this topic.`;

      questionSection.style.display = "none";
      summarySection.style.display = "block";
      updateProgressBar();
    }

    function restartQuiz(fullReset = true) {
      if (timerInterval) clearInterval(timerInterval);
      if (fullReset) {
        userAnswers = new Array(totalQuestions).fill(null);
        currentQuestionIndex = 0;
        remainingSeconds = totalTimeSeconds;
        quizFinished = false;
      }
      questionSection.style.display = "block";
      summarySection.style.display = "none";
      renderQuestion();
      startTimer();
    }

    // Event listeners
    nextBtn.addEventListener("click", goToNext);
    prevBtn.addEventListener("click", goToPrevious);
    restartBtn.addEventListener("click", () => restartQuiz(true));
    retakeBtn.addEventListener("click", () => restartQuiz(true));
    reviewBtn.addEventListener("click", () => {
      quizFinished = false;
      questionSection.style.display = "block";
      summarySection.style.display = "none";
      renderQuestion();
    });

    // Init
    totalQuestionsSpan.textContent = totalQuestions;
    if (questionCountBadge) {
      questionCountBadge.textContent = `${totalQuestions} questions`;
    }
    remainingSeconds = totalTimeSeconds;
    renderQuestion();
    startTimer();
  </script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>System Histology – Digestive System II: Small and Large Intestine Quiz</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    body {
      background: #f3f4f6;
      color: #111827;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      padding: 16px;
    }

    .quiz-wrapper {
      background: #ffffff;
      width: 100%;
      max-width: 900px;
      border-radius: 16px;
      box-shadow: 0 10px 25px rgba(15, 23, 42, 0.15);
      overflow: hidden;
      display: flex;
      flex-direction: column;
    }

    .quiz-header {
      background: #1d4ed8;
      color: #ffffff;
      padding: 16px 20px;
    }

    .header-inner {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 6px;
      flex-wrap: wrap;
    }

    .quiz-logo {
      height: 44px;
      width: auto;
      border-radius: 8px;
      background: #ffffff;
      padding: 4px 8px;
    }

    .quiz-header-texts {
      display: flex;
      flex-direction: column;
      gap: 2px;
      min-width: 0;
    }

    .quiz-header-title {
      font-size: 1.2rem;
      font-weight: 700;
      margin-bottom: 4px;
    }

    .quiz-header-subtitle {
      font-size: 0.9rem;
      opacity: 0.95;
    }

    .quiz-meta {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 4px;
      font-size: 0.8rem;
      opacity: 0.9;
    }

    .quiz-meta span {
      background: rgba(15, 23, 42, 0.12);
      padding: 4px 8px;
      border-radius: 999px;
    }

    .quiz-note {
      margin-top: 6px;
      font-size: 0.8rem;
      opacity: 0.9;
    }

    .quiz-body {
      padding: 16px 20px 20px;
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    .top-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 8px;
      flex-wrap: wrap;
    }

    .progress {
      font-size: 0.85rem;
      font-weight: 600;
      color: #374151;
    }

    .timer {
      font-size: 0.9rem;
      font-weight: 700;
      padding: 6px 10px;
      border-radius: 999px;
      background: #fee2e2;
      color: #b91c1c;
    }

    .progress-bar-track {
      width: 100%;
      height: 8px;
      border-radius: 999px;
      background: #e5e7eb;
      overflow: hidden;
      margin-top: 4px;
    }

    .progress-bar-fill {
      height: 100%;
      width: 0%;
      background: #1d4ed8;
      transition: width 0.3s ease;
    }

    .question-card {
      background: #eff6ff;
      border-radius: 12px;
      padding: 14px 14px 16px;
      border: 1px solid #dbeafe;
    }

    .question-text {
      font-size: 0.98rem;
      font-weight: 600;
      color: #1f2937;
      margin-bottom: 8px;
    }

    .question-subtitle {
      font-size: 0.85rem;
      color: #4b5563;
      margin-bottom: 4px;
    }

    .options-list {
      list-style: none;
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin-top: 10px;
    }

    .option-btn {
      width: 100%;
      text-align: left;
      padding: 10px 12px;
      border-radius: 999px;
      border: 1px solid #e5e7eb;
      background: #ffffff;
      font-size: 0.9rem;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 8px;
      transition: background 0.15s ease, box-shadow 0.15s ease, border-color 0.15s ease;
    }

    .option-key {
      font-weight: 700;
      font-size: 0.85rem;
      width: 18px;
      text-align: center;
      color: #4b5563;
    }

    .option-text {
      flex: 1;
      color: #111827;
    }

    .option-btn:hover {
      background: #f9fafb;
      box-shadow: 0 2px 6px rgba(15, 23, 42, 0.06);
    }

    .option-btn.selected {
      border-color: #1d4ed8;
      background: #eff6ff;
      box-shadow: 0 0 0 1px rgba(37, 99, 235, 0.4);
    }

    .nav-buttons {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 12px;
      gap: 8px;
      flex-wrap: wrap;
    }

    .btn {
      border: none;
      border-radius: 999px;
      padding: 8px 16px;
      font-size: 0.9rem;
      cursor: pointer;
      font-weight: 600;
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .btn-primary {
      background: #1d4ed8;
      color: #ffffff;
    }

    .btn-primary:hover {
      background: #1e40af;
    }

    .btn-secondary {
      background: #e5e7eb;
      color: #111827;
    }

    .btn-secondary:hover {
      background: #d1d5db;
    }

    .btn-ghost {
      background: transparent;
      color: #6b7280;
    }

    .btn-ghost:hover {
      background: #f3f4f6;
    }

    .summary-card {
      background: #ecfdf5;
      border-radius: 12px;
      padding: 14px 14px 16px;
      border: 1px solid #bbf7d0;
      margin-top: 4px;
    }

    .summary-title {
      font-size: 1rem;
      font-weight: 700;
      color: #065f46;
      margin-bottom: 6px;
    }

    .summary-text {
      font-size: 0.9rem;
      color: #064e3b;
      margin-bottom: 4px;
    }

    .score-highlight {
      font-size: 1.25rem;
      font-weight: 800;
      color: #15803d;
    }

    .upsell-card {
      margin-top: 12px;
      padding: 14px;
      border-radius: 12px;
      border: 1px dashed #1d4ed8;
      background: #eff6ff;
    }

    .upsell-title {
      font-size: 1rem;
      font-weight: 700;
      color: #1d4ed8;
      margin-bottom: 6px;
    }

    .upsell-list {
      font-size: 0.9rem;
      color: #1f2937;
      margin-left: 16px;
      margin-bottom: 10px;
    }

    .upsell-list li {
      margin-bottom: 2px;
    }

    .upsell-btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 8px 16px;
      border-radius: 999px;
      background: #1d4ed8;
      color: #ffffff;
      font-size: 0.9rem;
      font-weight: 600;
      text-decoration: none;
    }

    .upsell-btn:hover {
      background: #1e40af;
    }

    .footer-note {
      margin-top: 10px;
      font-size: 0.75rem;
      color: #9ca3af;
      text-align: center;
    }

    .bottom-nav-wrapper {
      margin-top: 6px;
      text-align: right;
    }

    .bottom-nav-link {
      font-size: 0.85rem;
      color: #1d4ed8;
      text-decoration: none;
      font-weight: 600;
    }

    @media (max-width: 640px) {
      .quiz-logo {
        height: 38px;
      }
      .quiz-header-title {
        font-size: 1.05rem;
      }
    }
  </style>
</head>
<body>
  <div class="quiz-wrapper">
    <header class="quiz-header">
      <div class="header-inner">
        <img
          src="http://easy-learns.com/wp-content/uploads/2025/12/logo-site-header.png"
          alt="EasyLearn Academy Logo"
          class="quiz-logo"
        />
        <div class="quiz-header-texts">
          <div class="quiz-header-title">
            System Histology – Digestive System II: Small and Large Intestine Quiz
          </div>
          <div class="quiz-header-subtitle">
            Free Topic-Based Quiz (No Explanations)
          </div>
        </div>
      </div>
      <div class="quiz-meta">
        <span>Topic: Digestive System II: Small and Large Intestine</span>
        <span id="question-count-badge"></span>
        <span>Time: 1.5 minutes/question</span>
      </div>
      <p class="quiz-note">
        This free quiz has no explanations. For full explanations and case-based practice, access the Premium version.
      </p>
    </header>

    <main class="quiz-body">
      <div class="top-bar">
        <div class="progress">
          Question <span id="current-question">1</span> of
          <span id="total-questions">0</span>
        </div>
        <div class="timer" id="timer">Time: --:--</div>
      </div>
      <div class="progress-bar-track">
        <div class="progress-bar-fill" id="progress-bar"></div>
      </div>

      <section id="question-section">
        <div class="question-card">
          <div class="question-subtitle" id="question-subtitle"></div>
          <div class="question-text" id="question-text"></div>
          <ul class="options-list" id="options-list"></ul>
        </div>

        <div class="nav-buttons">
          <button class="btn btn-secondary" id="prev-btn">← Previous</button>
          <div style="display:flex; gap:8px; margin-left:auto;">
            <button class="btn btn-ghost" id="restart-btn">Restart</button>
            <button class="btn btn-primary" id="next-btn">Next →</button>
          </div>
        </div>

        <div class="bottom-nav-wrapper">
          <a
            href="https://easy-learns.com/system-histology/"
            class="bottom-nav-link"
          >
            Back to System Histology Course
          </a>
        </div>
      </section>

      <section id="summary-section" style="display:none;">
        <div class="summary-card">
          <div class="summary-title">Quiz Completed</div>
          <p class="summary-text">
            Your score:
            <span class="score-highlight" id="score-text"></span>
          </p>
          <p class="summary-text" id="details-text"></p>
        </div>

        <div class="upsell-card">
          <div class="upsell-title">Want full explanations and real exam practice?</div>
          <ul class="upsell-list">
            <li>Final-style exam covering all 15 System Histology topics</li>
            <li>Clinical scenarios and case-based questions</li>
            <li>Full explanations for every question</li>
            <li>Mixed-topic format similar to real final exams</li>
          </ul>
          <a
            class="upsell-btn"
            href="https://easy-learns.com/system-histology-final-style-exam/"
            target="_blank"
            rel="noopener noreferrer"
          >
            Unlock Final-Style Exam (paid)
          </a>
        </div>

        <div class="nav-buttons">
          <button class="btn btn-secondary" id="review-btn">Review Questions</button>
          <button class="btn btn-primary" id="retake-btn">Retake Quiz</button>
        </div>

        <div class="footer-note">
          EasyLearn · System Histology · Digestive System II: Small and Large Intestine Quiz
        </div>
      </section>
    </main>
  </div>

  <script>
    // ==========================
    // QUESTION BANK – Digestive System II (Small & Large Intestine)
    // ==========================
    const questions = [
      {
        q: "Which structural feature is characteristic of the small intestine but not of the large intestine?",
        subtitle: "General comparison of small vs large intestine",
        options: [
          "Muscularis externa with inner circular and outer longitudinal layers",
          "Presence of villi and intestinal crypts",
          "Presence of goblet cells in the epithelium",
          "Plicae circulares (circular folds) with villi"
        ],
        answer: "Plicae circulares (circular folds) with villi"
      },
      {
        q: "The main function of intestinal villi in the small intestine is to:",
        subtitle: "Role of villi",
        options: [
          "Produce digestive enzymes for protein digestion",
          "Increase surface area for absorption",
          "Secrete mucus to lubricate the lumen",
          "Initiate peristaltic contractions"
        ],
        answer: "Increase surface area for absorption"
      },
      {
        q: "Which of the following cells is responsible for secreting mucus in the small and large intestine?",
        subtitle: "Goblet cell function",
        options: [
          "Enterocytes",
          "Goblet cells",
          "Paneth cells",
          "M (microfold) cells"
        ],
        answer: "Goblet cells"
      },
      {
        q: "Paneth cells are typically found at which location in the intestinal mucosa?",
        subtitle: "Paneth cell location",
        options: [
          "Surface epithelium of villi",
          "Base of intestinal crypts in the small intestine",
          "Muscularis mucosae",
          "Submucosa of the large intestine only"
        ],
        answer: "Base of intestinal crypts in the small intestine"
      },
      {
        q: "Which is a key function of Paneth cells?",
        subtitle: "Paneth cell function",
        options: [
          "Secretion of hydrochloric acid",
          "Secretion of antimicrobial substances such as lysozyme and defensins",
          "Production of mucus for lubrication",
          "Presentation of antigens to T lymphocytes"
        ],
        answer: "Secretion of antimicrobial substances such as lysozyme and defensins"
      },
      {
        q: "In the small intestine, enterocytes are primarily specialized for:",
        subtitle: "Enterocyte role",
        options: [
          "Secreting hormones into the bloodstream",
          "Absorption and terminal digestion of nutrients at the brush border",
          "Phagocytosing bacteria in the lumen",
          "Producing pepsinogen"
        ],
        answer: "Absorption and terminal digestion of nutrients at the brush border"
      },
      {
        q: "Which portion of the small intestine contains the most prominent plicae circulares (Kerckring folds)?",
        subtitle: "Regional differences in small intestine",
        options: [
          "Duodenum",
          "Jejunum",
          "Ileum",
          "Cecum"
        ],
        answer: "Jejunum"
      },
      {
        q: "Which histologic feature is most typical of the ileum?",
        subtitle: "Ileum hallmark",
        options: [
          "Very tall villi and many plicae circulares",
          "Brunner glands in the submucosa",
          "Numerous Peyer patches in the lamina propria and submucosa",
          "Absence of goblet cells"
        ],
        answer: "Numerous Peyer patches in the lamina propria and submucosa"
      },
      {
        q: "Brunner glands are found in which part of the gastrointestinal tract?",
        subtitle: "Brunner gland location",
        options: [
          "Esophagus",
          "Stomach",
          "Duodenum",
          "Sigmoid colon"
        ],
        answer: "Duodenum"
      },
      {
        q: "What is the main function of Brunner glands in the duodenum?",
        subtitle: "Brunner gland function",
        options: [
          "Produce intrinsic factor",
          "Secrete alkaline mucus to neutralize gastric acid",
          "Release digestive enzymes into the lumen",
          "Produce bile"
        ],
        answer: "Secrete alkaline mucus to neutralize gastric acid"
      },
      {
        q: "Which of the following best describes the mucosa of the large intestine (colon)?",
        subtitle: "Colon mucosa structure",
        options: [
          "Villi and crypts with few goblet cells",
          "No villi, straight tubular crypts with abundant goblet cells",
          "Tall villi with Paneth cells at their tips",
          "Plicae circulares with many villi and few goblet cells"
        ],
        answer: "No villi, straight tubular crypts with abundant goblet cells"
      },
      {
        q: "The taeniae coli of the large intestine are formed by:",
        subtitle: "Taeniae coli",
        options: [
          "Thickening of the inner circular layer of the muscularis externa",
          "Thickening of the outer longitudinal layer of the muscularis externa into three bands",
          "Aggregation of smooth muscle in the submucosa",
          "Bundles of skeletal muscle"
        ],
        answer: "Thickening of the outer longitudinal layer of the muscularis externa into three bands"
      },
      {
        q: "Which of the following is a major function of the large intestine?",
        subtitle: "Colon function",
        options: [
          "Digestion and absorption of most nutrients",
          "Production of bile and lipase",
          "Absorption of water and electrolytes, and formation of feces",
          "Secretion of large amounts of hydrochloric acid"
        ],
        answer: "Absorption of water and electrolytes, and formation of feces"
      },
      {
        q: "M (microfold) cells associated with Peyer patches in the ileum primarily:",
        subtitle: "M cell function",
        options: [
          "Secrete pepsinogen",
          "Produce mucus",
          "Transport antigens from the lumen to underlying lymphoid cells",
          "Synthesize bile salts"
        ],
        answer: "Transport antigens from the lumen to underlying lymphoid cells"
      },
      {
        q: "A 20-year-old patient with celiac disease has blunted villi in the small intestine. Which functional consequence is most likely?",
        subtitle: "Case: villous atrophy",
        options: [
          "Increased acid secretion",
          "Decreased surface area for absorption and malabsorption",
          "Hypertrophy of taeniae coli",
          "Increased mucus production only"
        ],
        answer: "Decreased surface area for absorption and malabsorption"
      },
      {
        q: "A biopsy of the colon from a patient with ulcerative colitis shows loss of goblet cells and crypt abscesses. Which structure is primarily damaged?",
        subtitle: "Case: ulcerative colitis",
        options: [
          "Muscularis externa",
          "Mucosa with crypts of Lieberkühn",
          "Serosa",
          "Submucosal plexus only"
        ],
        answer: "Mucosa with crypts of Lieberkühn"
      },
      {
        q: "A 50-year-old man has carcinoma arising in the colon. From which epithelial cell type does this tumor most likely originate?",
        subtitle: "Case: colon carcinoma origin",
        options: [
          "Simple squamous epithelium",
          "Stratified squamous epithelium",
          "Simple columnar absorptive cells and goblet cells",
          "Transitional epithelium"
        ],
        answer: "Simple columnar absorptive cells and goblet cells"
      },
      {
        q: "A patient has chronic duodenal ulcers due to increased gastric acid. Which protective feature of the proximal small intestine helps resist acid injury under normal conditions?",
        subtitle: "Case: duodenal protection",
        options: [
          "Villi and microvilli",
          "Thick keratinized epithelium",
          "Brunner gland secretions and bicarbonate-rich mucus",
          "Taeniae coli"
        ],
        answer: "Brunner gland secretions and bicarbonate-rich mucus"
      },
      {
        q: "A biopsy from the terminal ileum shows numerous lymphoid nodules. Which term best describes this organized lymphoid tissue?",
        subtitle: "Case: lymphoid nodules in ileum",
        options: [
          "Crypts of Lieberkühn",
          "Peyer patches",
          "Hassall corpuscles",
          "Plicae circulares"
        ],
        answer: "Peyer patches"
      },
      {
        q: "A patient with prolonged diarrhea shows marked depletion of goblet cells in the colon. Which immediate effect is most likely on colon function?",
        subtitle: "Case: loss of goblet cells",
        options: [
          "Loss of acid secretion",
          "Reduced mucus lubrication and protection of the mucosa",
          "Complete loss of nutrient absorption",
          "Loss of hormonal control of motility"
        ],
        answer: "Reduced mucus lubrication and protection of the mucosa"
      }
    ];

    // ==========================
    // QUIZ LOGIC
    // ==========================
    const totalQuestions = questions.length;
    const timePerQuestionSeconds = 90; // 1.5 minutes
    const totalTimeSeconds = totalQuestions * timePerQuestionSeconds;

    let currentQuestionIndex = 0;
    let userAnswers = new Array(totalQuestions).fill(null);
    let timerInterval = null;
    let remainingSeconds = totalTimeSeconds;
    let quizFinished = false;

    const currentQuestionSpan = document.getElementById("current-question");
    const totalQuestionsSpan = document.getElementById("total-questions");
    const timerSpan = document.getElementById("timer");
    const progressBar = document.getElementById("progress-bar");
    const questionText = document.getElementById("question-text");
    const questionSubtitle = document.getElementById("question-subtitle");
    const optionsList = document.getElementById("options-list");

    const questionSection = document.getElementById("question-section");
    const summarySection = document.getElementById("summary-section");
    const scoreText = document.getElementById("score-text");
    const detailsText = document.getElementById("details-text");
    const questionCountBadge = document.getElementById("question-count-badge");

    const prevBtn = document.getElementById("prev-btn");
    const nextBtn = document.getElementById("next-btn");
    const restartBtn = document.getElementById("restart-btn");
    const reviewBtn = document.getElementById("review-btn");
    const retakeBtn = document.getElementById("retake-btn");

    function formatTime(seconds) {
      const m = Math.floor(seconds / 60);
      const s = seconds % 60;
      return `${m.toString().padStart(2, "0")}:${s.toString().padStart(2, "0")}`;
    }

    function updateTimerDisplay() {
      timerSpan.textContent = `Time: ${formatTime(remainingSeconds)}`;
    }

    function startTimer() {
      if (timerInterval) clearInterval(timerInterval);
      updateTimerDisplay();
      timerInterval = setInterval(() => {
        if (remainingSeconds <= 0) {
          clearInterval(timerInterval);
          if (!quizFinished) {
            finishQuiz();
          }
          return;
        }
        remainingSeconds--;
        updateTimerDisplay();
      }, 1000);
    }

    function updateProgressBar() {
      const answeredCount = userAnswers.filter(a => a !== null).length;
      const progressPercent = (answeredCount / totalQuestions) * 100;
      progressBar.style.width = `${progressPercent}%`;
    }

    function renderQuestion() {
      const q = questions[currentQuestionIndex];
      currentQuestionSpan.textContent = currentQuestionIndex + 1;
      totalQuestionsSpan.textContent = totalQuestions;
      questionText.textContent = q.q;
      questionSubtitle.textContent = q.subtitle || "";

      optionsList.innerHTML = "";
      const keys = ["A", "B", "C", "D"];

      q.options.forEach((opt, index) => {
        const li = document.createElement("li");
        const btn = document.createElement("button");
        btn.className = "option-btn";
        btn.dataset.index = index;

        const keySpan = document.createElement("span");
        keySpan.className = "option-key";
        keySpan.textContent = keys[index] || "";

        const textSpan = document.createElement("span");
        textSpan.className = "option-text";
        textSpan.textContent = opt;

        btn.appendChild(keySpan);
        btn.appendChild(textSpan);

        if (userAnswers[currentQuestionIndex] === index) {
          btn.classList.add("selected");
        }

        btn.addEventListener("click", () => {
          selectOption(index);
        });

        li.appendChild(btn);
        optionsList.appendChild(li);
      });

      prevBtn.disabled = currentQuestionIndex === 0;
      nextBtn.textContent =
        currentQuestionIndex === totalQuestions - 1 ? "Submit Quiz" : "Next →";
      updateProgressBar();
    }

    function selectOption(index) {
      userAnswers[currentQuestionIndex] = index;

      const buttons = optionsList.querySelectorAll(".option-btn");
      buttons.forEach(btn => btn.classList.remove("selected"));
      const selected = Array.from(buttons).find(
        btn => Number(btn.dataset.index) === index
      );
      if (selected) {
        selected.classList.add("selected");
      }
      updateProgressBar();
    }

    function goToNext() {
      if (currentQuestionIndex === totalQuestions - 1) {
        finishQuiz();
      } else {
        currentQuestionIndex++;
        renderQuestion();
      }
    }

    function goToPrevious() {
      if (currentQuestionIndex > 0) {
        currentQuestionIndex--;
        renderQuestion();
      }
    }

    function finishQuiz() {
      quizFinished = true;
      clearInterval(timerInterval);

      let correctCount = 0;
      questions.forEach((q, i) => {
        const userIndex = userAnswers[i];
        if (userIndex !== null && q.options[userIndex] === q.answer) {
          correctCount++;
        }
      });

      const percent = Math.round((correctCount / totalQuestions) * 100);
      scoreText.textContent = `${correctCount} / ${totalQuestions} (${percent}%)`;

      const answeredCount = userAnswers.filter(a => a !== null).length;
      detailsText.textContent =
        `You answered ${answeredCount} of ${totalQuestions} questions. ` +
        `Review the quiz or retake it for more practice on this topic.`;

      questionSection.style.display = "none";
      summarySection.style.display = "block";
      updateProgressBar();
    }

    function restartQuiz(fullReset = true) {
      if (timerInterval) clearInterval(timerInterval);
      if (fullReset) {
        userAnswers = new Array(totalQuestions).fill(null);
        currentQuestionIndex = 0;
        remainingSeconds = totalTimeSeconds;
        quizFinished = false;
      }
      questionSection.style.display = "block";
      summarySection.style.display = "none";
      renderQuestion();
      startTimer();
    }

    // Event listeners
    nextBtn.addEventListener("click", goToNext);
    prevBtn.addEventListener("click", goToPrevious);
    restartBtn.addEventListener("click", () => restartQuiz(true));
    retakeBtn.addEventListener("click", () => restartQuiz(true));
    reviewBtn.addEventListener("click", () => {
      quizFinished = false;
      questionSection.style.display = "block";
      summarySection.style.display = "none";
      renderQuestion();
    });

    // Init
    totalQuestionsSpan.textContent = totalQuestions;
    if (questionCountBadge) {
      questionCountBadge.textContent = `${totalQuestions} questions`;
    }
    remainingSeconds = totalTimeSeconds;
    renderQuestion();
    startTimer();
  </script>
</body>
</html>
